#Redis

####使用场景

Redis是一个内存数据库，常作为缓存使用。Redis小巧、轻快，但是也要注意Redis的应用场景。
因为Redis是一个内存数据库，所以如果存储处理不当，会占用大量内存，对系统性能有影响。

对存储的数据进行划分，可以从两个角度划分：1是数据量的大小；2是数据的冷热程度。
Redis 最适合处理的是小而热，而且是写频繁，或者读写都比较频繁的热数据。对于大而热的数据，
如果其它方式很难解决问题，也可以考虑使用 Redis 解决，但是一定要非常谨慎，防止数据无限膨胀。

####持久化

Redis支持持久化，将内存数据到磁盘数据。提供两种持久化方式：RDB和AOF。

Rdb的主要原理就是在某个时间点把内存中的所有数据的快照保存一份到磁盘上。在条件达到时通过fork一个子进程把内存中的数据写到一个临时文件中来实现保存数据快照。在所有数据写完后再把这个临时文件用原子函数rename(2)重命名为目标rdb文件。这种实现方式充分利用fork的copy on write。

另外一种是通过save命令主动触发保存数据快照，这种是阻塞式的，即不会通过生成子进程来进行数据集快照的保存。
